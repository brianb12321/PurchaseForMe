@page
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery xsrf
@model PurchaseForMe.Pages.BlockEditorModel
@{
    Layout = "Shared/_BlockEditorLayout";
    ViewData["NodeName"] = Model.NodeName;
}
@section Styles {
    <style>
        .container-fluid {
            padding: 0;
        }

        #webModelEditor {
            height: 480px;
            width: 100%;
        }

        #console {
            position: absolute;
            width: 100%;
            height: 480px;
            background-color: black;
        }
        /* The inner console element. */
        .jqconsole {
            padding: 10px;
        }
        /* The cursor. */
        .jqconsole-cursor {
            background-color: white;
        }
        /* The cursor color when the console looses focus. */
        .jqconsole-blurred .jqconsole-cursor {
            background-color: #666;
        }
        /* The current prompt text color */
        .jqconsole-prompt {
            color: #0d0;
        }
        /* The command history */
        .jqconsole-old-prompt {
            color: #0b0;
            font-weight: normal;
        }
        /* The text color when in input mode. */
        .jqconsole-input {
            color: #dd0;
        }
        /* Previously entered input. */
        .jqconsole-old-input {
            color: #bb0;
            font-weight: normal;
        }
        /* The text color of the output. */
        .jqconsole-output {
            color: white;
        }
    </style>
}

<div class="row">
    <div id="blockly-editor" class="col"></div>
    <div id="xmlEditor" class="col"></div>
</div>
<div id="console"></div>

@functions
{
    public string GetAntiXsrfRequestToken()
    {
        return xsrf.GetAndStoreTokens(HttpContext).RequestToken;
    }
}

@section Scripts {
    <script src="https://pagecdn.io/lib/ace/1.4.12/ace.min.js"></script>
    <script src="~/js/bundle.min.js"></script>
}

@Html.Raw(Model.ToolkitXml);
@Html.HiddenFor(m => m.ProjectGuid)
@Html.HiddenFor(m => m.NodeGuid)
@Html.HiddenFor(m => m.WorkspaceXml)
@Html.HiddenFor(m => m.CreateNew)